
$('#dialog').html('<%= escape_javascript(render('form_common'))%>');
$('#dialog').dialog({
	modal: true,
	title: '<%= "#{t(:new)} #{t(:auth_source)}" %>',
	buttons: {
		'<%= t(:add) %>': function() {
			$.ajax({
				type: "POST",
				dataType: 'script',
				url: $('#dialog form').attr('action'),
				data: $('#dialog form').serialize(),
				error: function(xhr, textStatus, errorThrown) {
					error_notice(xhr, '<%= "#{t(:unable_to_create)} #{t(:auth_source).downcase}" %>', errorThrown);
				}
			});
		}
	}
});
